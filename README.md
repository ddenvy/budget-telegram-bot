# Shared Budget Telegram Bot (Go Version)

Telegram бот для управления общим бюджетом, написанный на Go. Все транзакции отслеживаются в CNY (китайских юанях).

## Особенности

- Добавление расходов с описанием и суммой
- Отслеживание общего баланса
- Добавление доходов
- Просмотр месячной статистики
- Установка произвольного баланса
- SQLite база данных для хранения данных

## Требования

- Go 1.24 или выше
- SQLite3

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd telegram-budget-bot
```

2. Установите зависимости:
```bash
go mod tidy
```

3. Создайте файл `.env` в корневой директории проекта с вашим токеном бота:
```
BOT_TOKEN=your_bot_token_here
```

4. Запустите бот:
```bash
go run main.go
```

## Использование

### Команды

- `/start` - Регистрация и просмотр приветственного сообщения
- `/balance` - Показать текущий общий баланс
- `/add_income <сумма>` - Добавить доход (например, `/add_income 5000`)
- `/set_balance <сумма>` - Установить новый баланс вручную
- `/summary` - Просмотр месячной статистики

### Добавление расходов

Просто отправьте сообщение в формате: `описание сумма` или `описание сумма CNY`

Примеры:
- `хлеб 10`
- `такси 45.5 CNY`
- `ужин 100`

## Структура базы данных

Бот использует SQLite с двумя основными таблицами:

### Таблица Users
- user_id (PRIMARY KEY)
- username
- registered_at

### Таблица Transactions
- id (PRIMARY KEY)
- user_id (FOREIGN KEY)
- type ('income' или 'expense')
- amount
- description
- created_at

## Обработка ошибок

Бот включает обработку ошибок для:
- Неверных форматов команд
- Неверных форматов расходов
- Ошибок базы данных
- Отрицательных сумм

## Преимущества Go версии

1. Высокая производительность
2. Встроенная конкурентность
3. Строгая типизация
4. Компиляция в единый исполняемый файл
5. Низкое потребление памяти 